# 用户表设计

关于用户表的设计这快，考虑扩展方便，兼容性强，所以还是比较复杂的。

相对于之前简单的设计结构,已经不能满足需求了。

## 分类
主要角色有

- 管理员
- 店长
- 营业员

管理员可以管理整个系统，对整个系统资源进行操作；

店长能查看本店的营业情况，可以管理营业员；

营业员只能进行收钱；


## 数据表的设计

初步考虑 该系统支持连锁超市使用。重点工作应该还是在服务器，就算连锁店，客户端东西不多，
好多数据同步有服务器那边进行控制；

### 用户管理
考虑到连锁超市，用户数量相对来说多，那么首先要对用户权限进行细分：

系统中的一些配置应该和账号绑定，即跟着人走，也就是说今天你在自己电脑上根据自己的习惯进行了配置，
那么那一天，你换了台电脑，只要账号是一致的，所以的配置应该一致！


### RBAC模型

>RBAC，全称是Role-Based Access Control，基于角色的访问控制，就是用户通过角色与权限进行关联.

![用户关系对应表](/screen/user.png)

- RBAC0

1. **用户和角色是多对一关系**，即：一个用户只充当一种角色，一种角色可以有多个用户担当；
2. **用户和角色是多对多关系**，即：一个用户可同时充当好几种角色，一种角色可以有多个用户担当；

![RBAC0](/screen/RBAC0.png)


- RBAC1 用户-组织-角色-权限

![RBAC1](/screen/RBAC1.png)

- RBAC2 用户-组织-岗位-角色-权限

![RBAC1](/screen/RBAC2.png)

增加岗位有以下几点好处：

1. **识别用户的主要身份。**

一个人可能身兼多职（多个角色），但是他的主要职能是固定的，
那怎么告诉系统用户的主要职能是什么呢？答案就是：通过岗位！
拿上面的小马哥举例：小马哥虽然身兼经理和财务两种身份，但他的本职工作是“经理”，因此，他的系统岗位应该"经理"。
当他登录时，系统会识别他的身份为"经理"，只不过这个“经理”刚好兼具了其他岗位的职能而已；

2. **通过“组织-岗位”关联，快速甄别用户岗位**

公司在不断地发展的过程中，系统的用户角色也会不断增加，当角色达到一定数量以后，
管理员每新增一个用户都要花相当的时间去寻找角色。引入岗位后，可将组织和岗位、岗位和角色提前进行关联，
配置账号时，管理员只要选定组织，系统就给出与该组织关联的岗位，而这些岗位，又是提前关联好角色的，
选择起来，既方便又高效！


## 参考文档
- [人人都是产品经理](http://www.woshipm.com/pd/872372.html)
- [UML软件工程组织](http://www.uml.org.cn/yyal/200703145.asp)





